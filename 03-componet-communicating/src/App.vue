<script setup>
import { ref } from 'vue'

/* ===== D·ªÆ LI·ªÜU C·ª¶A CHA ===== */
const messageFromChild = ref('Ch∆∞a c√≥ g√¨ t·ª´ con')

/* ===== H√ÄM NH·∫¨N EVENT T·ª™ CON ===== */
const handleHello = (data) => {
  messageFromChild.value = data
}

/* ===== KHAI B√ÅO COMPONENT CON NGAY TRONG APP ===== */
const ChildComponent = {
  props: {
    name: String
  },
  emits: ['say-hello'],
  template: `
    <div style="border:1px solid #ccc; padding:10px; margin-top:10px">
      <p>Con: Xin ch√†o {{ name }}</p>
      <button @click="sendHello">
        G·ª≠i l·ªùi ch√†o l√™n cha
      </button>
    </div>
  `,
  methods: {
    sendHello() {
      this.$emit('say-hello', 'Con ƒë√£ g·ª≠i l·ªùi ch√†o üëã')
    }
  }
}
</script>

<template>
  <div>
    <h1>Component & Communicating Event</h1>

    <p><b>Cha nh·∫≠n ƒë∆∞·ª£c:</b> {{ messageFromChild }}</p>

    <!-- Component con -->
    <ChildComponent
      name="Nam"
      @say-hello="handleHello"
    />
  </div>
</template>
